# 数据结构专题实践

**完成基于归并的外排算法**

**RunGeneration: 文件I/O操作，内排缓冲区** 

​			InputBuffer, OutputBuffer：数据成员，成员函数
​			InBuf::getNextItem(); OutBuf::setNextItem();
​			InBuf::getNextBlock(); OutBuf::writeBlock();

**文件组织（一个文件存储多个有序序列）**

​		数据文件组织与实现（多个不等长有序子序列共存于单一文件中）

**MergeInMem算法**

**ExternalMergeSort算法**



## WEEK 2: 

​	**文件I/O **
​	**数据文件组织与实现（多个不等长有序子序列共存于单一文件中）**
​	**Program：文件生成**
​	**Program：文件读取与显示**
​		Scan
​		Put
​		Search



## WEEK 3:

​	**缓冲区管理：**
​		Class InputBuffer
​		Class OutputBuffer
​	**Program: 基于缓冲区的文件读取与显示**
​		Scan
​		Put
​		Search
​	**Program: MergeInMem**
​	**Program: ExternalMergeSort**

## WEEK 4:

​	**基本并行程序编程**
​		Thread，join
​	**Loser Tree**
​	**Program: RunGeneration**

## WEEK 5:

​	**最佳归并树设计**
​	**Program: 基于最佳归并树的外排序算法**

## WEEK 6:

​	**缓冲区管理机制**
​	**Program: 并行K路归并算法**

## WEEK 7:

​	**Program: 初始化过程**
​	**Program: kWayMerge**
​	**Program: Merge k Runs**

## WEEK 8:

​	**测试，试验评估**
​	**准备报告**
​	**周六：报告**





![外部归并排序类图](C:\Users\zz\Downloads\外部归并排序类图.png)



```
┌------------------------┐
│ 固定 32 B 魔数 + 版本    │  0x004D534F  "OSM\0" + v1
├------------------------┤
│ 元素类型枚举  1 B        │  0x08=int64  0x04=int32  0x02=int16  0x01=int8 0x20=自定义定长类型
├------------------------┤
│ 序列个数      8 B       │  uint64_t run_count
├------------------------┤
│ 自定义类大小    1 B      │  仅当 type==0x20 时有效，否则填 0
├------------------------┤
│ 元数据表 run_count×24 B │  每条 = ⟨run_len, run_offset, crc32⟩
├------------------------┤
│ 裸序列数据块  …          │  每个 run 4 KiB 对齐，连续写，无分隔符
└------------------------┘
```

